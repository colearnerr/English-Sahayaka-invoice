<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Sahayaka Invoice Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        .invoice-container {
            width: 800px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #ddd;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }
        header img {
            max-height: 100px;
        }
        .company-details {
            font-size: 14px;
        }
        .company-details h1 {
            font-size: 24px;
            margin: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .totals {
            text-align: right;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="invoice-container">
        <!-- Header with logo and company details -->
        <header>
            <div class="company-details">
                <h1>English Sahayaka</h1>
                <p>3rd Floor, 1537, 5th Cross Road, Rajiv Gandhi Nagar</p>
                <p>Agara Village, 1st Sector, HSR Layout, Bengaluru</p>
                <p>Phone: 8296944098 | Email: englishsahayaka@gmail.com</p>
            </div>
            <img src="logo.png" alt="Company Logo">
        </header>

        <!-- Billing information -->
        <div>
            <h3>Bill To</h3>
            <input type="text" placeholder="Client Name">
            <input type="text" placeholder="Client Phone">
            <input type="text" placeholder="Client Email">
            <h3>Invoice Details</h3>
            <label>Date: <input type="date"></label>
            <label>Invoice #: <input type="text" placeholder="Invoice Number"></label>
        </div>

        <!-- Table for items -->
        <table id="invoice-table">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Rate</th>
                    <th>Qty</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" placeholder="Description"></td>
                    <td><input type="number" class="rate" placeholder="Rate"></td>
                    <td><input type="number" class="qty" placeholder="Qty"></td>
                    <td class="amount">₹0</td>
                </tr>
            </tbody>
        </table>
        <button id="add-row">Add Row</button>
        <div class="totals">
            Total: ₹<span id="total-amount">0</span>
        </div>

        <!-- Export button -->
        <button id="export-pdf">Export as PDF</button>
    </div>

    <script>
        // Add a new row to the table
        document.getElementById('add-row').addEventListener('click', function() {
            const table = document.getElementById('invoice-table').querySelector('tbody');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td><input type="text" placeholder="Description"></td>
                <td><input type="number" class="rate" placeholder="Rate"></td>
                <td><input type="number" class="qty" placeholder="Qty"></td>
                <td class="amount">₹0</td>
            `;
            table.appendChild(newRow);
            addEventListeners(); // Ensure event listeners are added to new inputs
        });

        // Calculate totals
        function calculateTotals() {
            let total = 0;
            const rows = document.querySelectorAll('#invoice-table tbody tr');
            rows.forEach(row => {
                const rate = parseFloat(row.querySelector('.rate').value) || 0;
                const qty = parseFloat(row.querySelector('.qty').value) || 0;
                const amount = rate * qty;
                row.querySelector('.amount').textContent = `₹${amount}`;
                total += amount;
            });
            document.getElementById('total-amount').textContent = total;
        }

        // Add event listeners to inputs
        function addEventListeners() {
            const inputs = document.querySelectorAll('.rate, .qty');
            inputs.forEach(input => {
                input.addEventListener('input', calculateTotals);
            });
        }
        addEventListeners();

        // Export the invoice as a PDF
        document.getElementById('export-pdf').addEventListener('click', function() {
            const doc = new jsPDF();
            const img = new Image();
            img.src = 'logo.png'; // Path to your company logo

            img.onload = function() {
                doc.addImage(img, 'PNG', 10, 10, 50, 20); // Add logo
                doc.text("English Sahayaka Invoice", 70, 20);

                // Add company details
                doc.text("3rd Floor, 1537, 5th Cross Road, Rajiv Gandhi Nagar", 10, 40);
                doc.text("Agara Village, 1st Sector, HSR Layout, Bengaluru", 10, 50);
                doc.text("Phone: 8296944098 | Email: englishsahayaka@gmail.com", 10, 60);

                // Add table data
                const rows = document.querySelectorAll('#invoice-table tbody tr');
                rows.forEach((row, index) => {
                    const cols = row.querySelectorAll('td');
                    const description = cols[0].querySelector('input').value || '';
                    const rate = cols[1].querySelector('input').value || 0;
                    const qty = cols[2].querySelector('input').value || 0;
                    const amount = cols[3].textContent || 0;
                    doc.text(`${description}, Rate: ${rate}, Qty: ${qty}, Amount: ${amount}`, 10, 80 + (index * 10));
                });

                // Save PDF
                doc.save('invoice.pdf');
            };
        });
    </script>
</body>
</html>

